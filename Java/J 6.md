
## Chapter 4 : Classes, Objects and Methods

Key Skills & Concepts
●Know the fundamentals of the class
●Understand how objects are created
●Understand how reference variables are assigned
●Create methods, return values, and use parameters
●Use the return keyword
●Return a value from a method
●Add parameters to a method
●Utilize constructors
●Create parameterized constructors
●Understand new
●Understand garbage collection
●Use the this keyword


The class is the essence of Java. It is the foundation upon which the entire Java language is built because the class defines the nature of an object. As such, the class forms the basis for object-oriented programming in Java. Within a class are defined data and code that acts upon that data. The code is contained in methods.

____

#### class Fundamentals

class is a template that defines the form of an
object. It specifies both the data and the code that will operate on that data. Java uses a class
specification to construct objects. Objects are instances of a class. Thus, a class is essentially a set of plans that specify how to build an object. It is important to be clear on one issue:
a class is a logical abstraction. It is not until an object of that class has been created that a
physical representation of that class exists in memory.

methods and variables that constitute a class are called
members of the class. The data members are also referred to as instance variables.


When you define a class, you declare its exact form and nature. You do this by specifying the instance variables that it contains and the methods that operate on them

A class is created by using the keyword class.

```java
class classname {
	// declare instance variables
	type var1;
	type var2;
	// ...
	type varN;
	
	// declare methods
	type method1(parameters) {
		// body of method
	}
	
	type method2(parameters) {
		// body of method
	}
	
	// ...
	type methodN(parameters) {
		// body of method
	}
}
```

Although there is no syntactic rule that enforces it, a well-designed class should define one and only one logical entity.	a well-designed class groups
logically connected information. Putting unrelated information into the same class will quickly
destructure your code!


Up to this point, the classes that we have been using have had only one method: main( ).
Soon you will see how to create others. 

However, notice that the general form of a class does
not specify a main( ) method. A main( ) method is required only if that class is the starting point for your program. Also, some types of Java applications don’t require a main( ).


#### Defining a Class

a data-only class.
```java
class Vehicle
{
	int passengers;
	int fuelcap;
	int kpl;
}
```

To actually create a Vehicle object :
```java
Vehicle minivan = new Vehicle(); 
	// create a Vehicle object called minivan
```

every Vehicle object will contain its own copies of the instance variables passengers, fuelcap, and kpl. To access these variables, you will use the dot (.) operator. The dot operator links the name of an object with the name of a member.
`object.member`

`minivan.fuelcap = 16;`

___

```java
class Vehicle
{
	int passengers;
	int fuelcap;
	int kpl;
}

class VehicleDemo
{
	public static void main(String[] args)
	{
		Vehicle minivan = new Vehicle();
		int range;
		minivan.passengers = 7;
		minivan.fuelcap = 16;
		minivan.kpl = 21;
		
		range = minivan.fuelcap * minivan.kpl;
		System.out.println("Minivan can carry " + minivan.passengers + " with a range of " + range);
	}
}
```

you can put both the Vehicle and VehicleDemo classes in the same source file.
you could call the file that contains this program VehicleDemo.java.
This name makes sense because the main( ) method is in the class called VehicleDemo.

Either class can be the first one in the file. 

The Java compiler automatically puts each class into its own .class file. When you compile this program using javac, you will find that two .class files have been created, one for Vehicle and one for VehicleDemo. 

It is important to understand that it is not necessary for both the Vehicle and the VehicleDemo
class to be in the same source file. You could put each class in its own file, called Vehicle.java
and VehicleDemo.java, respectively. If you do this, you can still compile the program by
compiling VehicleDemo.java.



____
#### How objects are created

The new operator dynamically allocates (that is, allocates at run time) memory for an object
and returns a reference to it. This reference is, essentially, the address in memory of the object
allocated by new. This reference is then stored in a variable. Thus, in Java, all class objects must
be dynamically allocated.

The two steps combined in the preceding statement can be rewritten like this to show each step individually:

```java
Vehicle minivan; // declare reference to object

minivan = new Vehicle(); // allocate a Vehicle object
```
The first line declares minivan as a reference to an object of type Vehicle. Thus, minivan is a variable that can refer to an object, but it is not an object itself. At this point, minivan does not refer to an object. 

The next line creates a new Vehicle object and assigns a reference to it to minivan. Now, minivan is linked with an object.

____

#### Reference variables and assignment

In an assignment operation, object reference variables act differently than do variables of a primitive type, such as int. 

When you assign one primitive-type variable to another, variable on the left receives a copy of the value of the variable on the right. 

When you assign one object reference variable to another, you are changing the object that the reference variable refers to.

The effect of this difference can cause some counterintuitive results.

```java
Vehicle car1 = new Vehicle();
vehicle car2 = car1;
```

car1 and car2 will both refer to the same object. Thus, the object can be acted upon by either car1 or car2.


```java
car1.mpg = 26;

System.out.println(car1.mpg);
System.out.println(car2.mpg);

// 26.
```


____

#### Methods

Methods are subroutines that manipulate the data defined by
the class and, in many cases, provide access to that data. In most cases, other parts of your
program will interact with a class through its methods.

In well-written Java code, each method
performs only one task.

you can give a method whatever name you please. However, remember
that main( ) is reserved for the method that begins execution of your program.


General form of method
```java
ret-type name(parameter-list) 
{
	// body of method
}
```

Here, ret-type specifies the type of data returned by the method. This can be any valid type,
including class types that you create. If the method does not return a value, its return type
must be void.

The parameter-list is a
sequence of type and identifier pairs separated by commas. Parameters are essentially variables
that receive the value of the arguments passed to the method when it is called. If the method
has no parameters, the parameter list will be empty.

___

the range of a vehicle is dependent upon the capacity of the fuel tank and the
rate of fuel consumption, and both of these quantities are encapsulated by Vehicle. By adding
a method to Vehicle that computes the range, you are enhancing its object-oriented structure.

```java
class Vehicle
{
	int passengers;
	int fuelcap;
	int kpl;
	
	void range()
	{
		System.out.println("Range is " + fuelcap * kpl);
	} // no need of dot notation
}

class VehicleDemo
{
	public static void main(String[] args)
	{
		Vehicle minivan = new Vehicle();
		
		minivan.passengers = 7;
		minivan.fuelcap = 16;
		minivan.kpl = 21;
		
		System.out.print("Minivan can carry " + minivan.passengers + ". ");

		minivan.range(); // Displays range
	}
}
```

```
Minivan can carry 7. Range is 336
```

___

#### Returning from a Method

In a void method, you can cause the immediate termination of a method by return.


Methods return a value to the calling routine using this form of return:   `return value;`

This form of return can be used only with methods that have
a non-void return type. Furthermore, a non-void method must return a value by using this form
of return.

```java
class Vehicle
{
	int passengers;
	int fuelcap;
	int kpl;
	
	int range()
	{
		return fuelcap * kpl;
	} // no need of dot notation
}

class VehicleDemo
{
	public static void main(String[] args)
	{
		Vehicle minivan = new Vehicle();
		
		int range1;
		minivan.passengers = 7;
		minivan.fuelcap = 16;
		minivan.kpl = 21;
		
		range1 = minivan.range(); // Displays range
		System.out.print("Minivan can carry " + minivan.passengers + "with range of " + range1 + " Miles.");
	}
}
```

```
Minivan can carry 7 with range of 336 Miles
```

Even range1 is not necessary as `minivan.range()` can be directly used in print.


____
#### Using Parameters

It is possible to pass one or more values to a method when the method is called.
value passed to a method is called an argument. Inside the method, the variable that receives
the argument is called a parameter.

```java
class CheckNum 
{
	boolean isEven(int x)
	{
		if ( (x%2) == 0)
			return true;
		else 
			return false;
	}
}

class ParaDemo
{
	public static void main(String[] args)
	{
		CheckNum e = new CheckNum();
		
		if (e.isEven(10))
			System.out.println("10 is even");
		if(e.isEven(9))
			System.out.println("9 is even");
	}
}
```

With multiple parameters

```java
class Factor 
{
	boolean isFactor(int a, int b) 
	{
		if( (b % a) == 0) return true;
		else return false;
	}
}

class IsFact 
{
	public static void main(String[] args)
	{
		Factor x = new Factor();
		
		if(x.isFactor(2,20))
			System.out.prinln("2 is factor");
	}
}
```


___

```java
double fuelNeeded(int miles) 
{
	return (double) miles / mpg;
}
```


#### Utilize constructors

the instance variables of each Vehicle object had to be set manually using a sequence of statements, such as:
`minivan.passengers = 7;`

A constructor initializes an object when it is created. It has the same name as its class
and is syntactically similar to a method. However, constructors have no explicit return
type. Typically, you will use a constructor to give initial values to the instance variables
defined by the class, or to perform any other startup procedures required to create a fully
formed object.
All classes have constructors, whether you define one or not, because Java automatically
provides a default constructor. In this case, non-initialized member variables have their default
values, which are zero, null, and false, for numeric types, reference types, and booleans,
respectively. Once you define your own constructor, the default constructor is no longer used.

```java
class Myclass
{
	int x;
	
	MyClass()  // cnstructor for my class
	{
		x = 10;
	}
}

class ConsDemo
{
	public static void main(String[] args)
	{
		Myclass t1 = new Myclass();
		Myclass t2 = new Myclass();
		
		System.out.println(t1.x + " " + t2.x );
	}
}
```

This constructor is called by new when an object is created using new.


#### Parameterized constructors

Parameters are added to a constructor in the same way that they are added to a method: just
declare them inside the parentheses after the constructor’s name.

```java
class Myclass
{
	int x;
	
	MyClass(int i)  // cnstructor for my class
	{
		x = i;
	}
}

class ConsDemo
{
	public static void main(String[] args)
	{
		Myclass t1 = new Myclass(10);
		Myclass t2 = new Myclass(88);
		
		System.out.println(t1.x + " " + t2.x );
	}
}
```

___

```java
class Vehicle 
{
	int passengers;
	int fuelcap;
	int kpl;
	
	Vehicle(int p, int f, int m)
	{
		passengers = p
		fuelcap = f;
		kpl = m;
	}
	
	int range()
	{
		return kpl*fuelcap;
	}
	
	// Fuel needed for given distance
	double fuelNeeded(int km)
	{
		return (double) km / kpl;
	}
}


class VehConsDemo 
{
	public static void main(String[] args) 
	{
		// construct complete vehicles
		Vehicle minivan = new Vehicle(7, 16, 21);
		
		double liters;
		int dist = 252;
		
		liters = minivan.fuelNeeded(dist);
		
		System.out.println("To go " + dist + " miles minivan needs " + liters + " liters of fuel.");
	}
}
```


#### Garbage collection

Java’s garbage collection system reclaims objects automatically—occurring transparently,
behind the scenes, without any programmer intervention. It works like this: When no references
to an object exist, that object is assumed to be no longer needed, and the memory occupied by
the object is released. This recycled memory can then be used for a subsequent allocation.

Garbage collection occurs only sporadically during the execution of your program. It will
not occur simply because one or more objects exist that are no longer used. For efficiency,
the garbage collector will usually run only when two conditions are met: there are objects to
recycle, and there is a reason to recycle them. Remember, garbage collection takes time, so the
Java run-time system does it only when it is appropriate. Thus, you can’t know precisely when
garbage collection will take place.

___

#### this keyword

When a method is called, it is automatically passed an implicit argument that is a reference to the invoking object (that is, the object on which the method is called). This reference is called this.

Writing the statement without using this in return is really just shorthand.


this has some important uses. For example, the
Java syntax permits the name of a parameter or a local variable to be the same as the name of
an instance variable. When this happens, the local name hides the instance variable. You can
gain access to the hidden instance variable by referring to it through this.

```java
// Constructor for class pwr

pwr (double b, int e)
{
	this.b = b;
	this.e = e;
	
	val = 1;
	if(e==0)
		return;
	
	for( ; e>0; e--)
		val = val *b;
}
```


____

