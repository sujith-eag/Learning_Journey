```python CS50
# 3rd party libraries called packages can be gotten at "pypi.org" (python package index)
# "pip" is a program within python to install package by running a command

# command for downloading cow say   "pip install cowsay" ,  ASKI art
import cowsay
import sys      # to allow for command line entry

if len(sys.argv) == 2:
    cowsay.cow ( "hello, " + sys.argv[1] )   # this only takes one argument so no ","  it has been concatinated with "+"
if len(sys.argv) == 2:
    cowsay.trex ( "hello, " + sys.argv[1] )   # yup, a trex art
```

```python CS50  
APIs (Application Programing interface)  

# not general to python, 3rd party services that we can talk to and download data to our system

# "requests" is a popular package that can be installed to make web and internet requests

# pypi.org/project/requests
pip install requests

# JSON - Java script object notation (getting the file data from itune in text file)
# language agnostics means any language can be used to read and edit it
# json library (comes with python)
# docs.python.org/3/library/json.html

import json
import requests
import sys

if len(sys.argv) != 2:
    sys.exit()     # break is used to exit a loop,  sys.exit exits the whole program
response = requests.get ("https://itunes.apple.com/search?entity=song&limit=1&term=" + sys.argv[1])
print ( response.json( ) )

# using if to make sure the length is atleast one word, then exit
# response is stored in variable called "response"
# requests.get is a function to get a requests
# url is based on the document,  last bit of name is left to be entered by + concatinate
# the data is printed as json without formating
```

```python
# to format it a little bit more
import json
import requests
import sys

if len(sys.argv) != 2:
    sys.exit()        

response = requests.get ("https://itunes.apple.com/search?entity=song&limit=1&term=" + sys.argv[1])
print (  json.dumps (response.json( ), indent=2 ) )

# json.dumps meaning dump string formats it to make it readable
# indent = 2 makes it have 2 spaces

  
# taking out just the trackname of a single song
import json
import requests
import sys

if len(sys.argv) != 2:
    sys.exit()        
  
response = requests.get ("https://itunes.apple.com/search?entity=song&limit=1&term=" + sys.argv[1])
data = response.json()            # the data is stored in json format
for list in data["results"]:     # "results" is the key word in the json file from itune which has the list having "trackName"
    print( list["trackName"] )   
# list gets only the list of trackName with songs as values
# only the values of each keyword is printed

  
import json
import requests
import sys
  
if len(sys.argv) != 2:
    sys.exit()        

response = requests.get ("https://itunes.apple.com/search?entity=song&limit=50&term=" + sys.argv[1])

data = response.json()
for list in data["results"]:  
    print( list["trackName"] )    # ok gets 50 trackNames
```


___
___

### Working with 3rd Party Libraries and APIs in Python

In Python, you can extend the functionality of your program by using **third-party libraries** (often called **packages**). These libraries can be installed using a package manager called **pip**, and they allow you to integrate pre-written code that handles common tasks, saving you time and effort.

#### 1. Installing Packages Using `pip`

- **PyPI (Python Package Index)** is the repository where you can find Python packages. You can search for packages and install them using **`pip`**.
    
- **`pip install`** is the command used to install a package. For example, if you want to install a package that generates ASCII art (like `cowsay`), you would run:
    
    ```bash
    pip install cowsay
    ```
    

Once installed, you can import these packages into your program.

---

### Example 1: Using `cowsay` to Create Fun ASCII Art

The `cowsay` package allows you to generate ASCII art with different characters, such as a cow or a T-Rex. Here's an example of how to use it:

```python
import cowsay
import sys  # For command-line argument handling

# Check if exactly one argument is passed (the name after the script)
if len(sys.argv) == 2:
    # Display a cow saying "Hello, [argument]"
    cowsay.cow("Hello, " + sys.argv[1])

if len(sys.argv) == 2:
    # Display a T-Rex saying "Hello, [argument]"
    cowsay.trex("Hello, " + sys.argv[1])
```

#### Explanation:

- **`sys.argv`**: This allows us to take input directly from the command line. The first element in the list `sys.argv[0]` is the name of the script, and `sys.argv[1]` is the user-provided argument.
- **`cowsay.cow()`** and **`cowsay.trex()`**: These functions display ASCII art with a cow or a T-Rex, respectively, and the string passed as an argument will be the message inside the speech bubble.

---

### 2. Working with APIs (Application Programming Interfaces)

An **API** is a set of protocols and tools that allow different software systems to communicate. In Python, you can interact with APIs to request data from external services over the internet. One popular library for making HTTP requests to APIs is **`requests`**.

- The **`requests`** library can be installed using pip:
    
    ```bash
    pip install requests
    ```
    

#### Example 2: Fetching Data from an API

Here’s an example where we fetch song data from the iTunes API based on a search term provided by the user:

```python
import json
import requests
import sys

# Check if the correct number of arguments is provided
if len(sys.argv) != 2:
    sys.exit("Usage: python script.py <search_term>")  # Exit if no search term

# Make a request to the iTunes API with the search term
response = requests.get("https://itunes.apple.com/search?entity=song&limit=1&term=" + sys.argv[1])

# Print the raw JSON response
print(response.json())
```

#### Explanation:

- **`requests.get()`**: Sends a GET request to the specified URL. Here, the URL is for the iTunes API, and the `term` query parameter is the search term (the word the user inputs).
- **`response.json()`**: Converts the response from JSON (a data format used by many APIs) into a Python dictionary.
- **`sys.exit()`**: Used to terminate the program if the user doesn't provide the correct number of arguments.

---

### 3. Formatting JSON Data

The data received from APIs is usually in JSON format. By default, the JSON data is not formatted for readability. You can use **`json.dumps()`** to make the output more human-readable by adding indentation.

#### Example 3: Formatting JSON Output

```python
import json
import requests
import sys

if len(sys.argv) != 2:
    sys.exit("Usage: python script.py <search_term>")

response = requests.get("https://itunes.apple.com/search?entity=song&limit=1&term=" + sys.argv[1])

# Format the JSON data with an indentation of 2 spaces for better readability
print(json.dumps(response.json(), indent=2))
```

#### Explanation:

- **`json.dumps()`**: Converts a Python object into a JSON string. The `indent=2` argument formats the string with 2 spaces of indentation, making it easier to read.

---

### 4. Extracting Specific Data from JSON Responses

When dealing with API responses in JSON format, you often only need a portion of the data. You can access specific fields within the JSON by using keys.

#### Example 4: Extracting Track Names from iTunes Search

```python
import json
import requests
import sys

if len(sys.argv) != 2:
    sys.exit("Usage: python script.py <search_term>")

response = requests.get("https://itunes.apple.com/search?entity=song&limit=1&term=" + sys.argv[1])
data = response.json()

# Loop through the 'results' key and print the 'trackName' of each result
for song in data["results"]:
    print(song["trackName"])
```

#### Explanation:

- **`data["results"]`**: This accesses the `results` key in the JSON response, which contains the list of songs returned by the search.
- **`song["trackName"]`**: For each song in the results, we access the `trackName` field, which contains the name of the song.

---

### 5. Fetching Multiple Results

To fetch more results (e.g., 50 songs instead of just 1), you can modify the API request by increasing the `limit` parameter.

#### Example 5: Fetching Multiple Track Names

```python
import json
import requests
import sys

if len(sys.argv) != 2:
    sys.exit("Usage: python script.py <search_term>")

response = requests.get("https://itunes.apple.com/search?entity=song&limit=50&term=" + sys.argv[1])
data = response.json()

# Loop through the 'results' and print the 'trackName' for each song
for song in data["results"]:
    print(song["trackName"])
```

#### Explanation:

- **`limit=50`**: This increases the number of search results returned by the API from 1 to 50.
- **`data["results"]`**: We loop through each result and print the `trackName` of each song.

---

### Conclusion

- **Third-party libraries** in Python, like `cowsay` and `requests`, make it easy to add fun or useful features to your programs without having to reinvent the wheel.
- **APIs** allow your program to interact with external services and fetch data from them, like searching for songs on iTunes. You can use the **`requests`** library to send HTTP requests to APIs and process the responses.
- **JSON** is a common data format used by APIs to send data. You can manipulate JSON data using Python's built-in **`json`** module, formatting it for readability and extracting specific pieces of data.
- These skills can be applied to a wide range of applications, from creating fun interactive programs to building complex systems that fetch, process, and display data from external sources.

By understanding how to interact with APIs, format JSON, and handle third-party libraries, you can significantly extend the functionality of your Python programs and integrate them with the wider web.